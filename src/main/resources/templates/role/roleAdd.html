<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>page</title>
    <meta content="webkit" name="renderer">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1" name="viewport">
    <script src="layui2.6.8/layui.js" th:src="@{/layui2.6.8/layui.js}"></script><link href="../../static/layui2.6.8/css/layui.css" rel="stylesheet" th:href="@{/layui2.6.8/css/layui.css}"
          type="text/css">
    <!-- 注意：如果你直接复制所有代码到本地，上述css路径需要改成你本地的 -->
</head>
<body>
<form action="Hello" class="layui-form" name="body">
    <div class="layui-form-item">
        <label class="layui-form-label">角色名</label>
        <div class="layui-input-inline">
            <input autocomplete="off" class="layui-input" id="roleName" lay-verify="required" name="roleName"
                   placeholder="请输入角色名"
                   required type="text"/>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">激活</label>
        <div class="layui-input-inline">
            <input id="ativate" lay-filter="switchTest" lay-skin="switch" lay-text="ON|OFF" name="activate"
                   type="checkbox"/>
        </div>
    </div>

    <div class="layui-form-item">
        <label class="layui-form-label">备注</label>
        <div class="layui-input-inline">
            <input autocomplete="off" class="layui-input" id="remark" lay-verify="required" name="remark"
                   placeholder="请输入角色名"
                   required type="text"/>
        </div>
    </div>

    <div class="layui-form-item">
        <div class="layui-input-block">
            <button class="layui-btn" lay-filter="formDemo" lay-submit="">立即提交</button>
            <button class="layui-btn layui-btn-primary" type="reset">重置</button>
        </div>
    </div>
</form>

<script src="layui2.6.8/layui.js" th:src="@{/layui2.6.8/layui.js}"></script>

<script>
    //Demo
    layui.use(['form', 'jquery'], function () {
        var form = layui.form;
        var $ = layui.$;
        form.on('submit()', function (data) {
            var paramenter = $("form").serialize();
            $.ajax({
                type: 'post'
                , data: paramenter
                , url: 'roleInsert'
                , success: function (data) {
                    if (data) {
                        layer.alert("提交成功");
                        layer.close(layer.index);
                        window.parent.location.reload();
                    } else {
                        layer.alert("提交失败")
                    }
                }
            });
            return false;
        });
    });
</script>
</body>
</html>